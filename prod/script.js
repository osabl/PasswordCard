"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _createForOfIteratorHelper(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=_unsupportedIterableToArray(e))){var r=0,t=function(){};return{s:t,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,n,a=!0,c=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return a=e.done,e},e:function(e){c=!0,n=e},f:function(){try{a||null==o.return||o.return()}finally{if(c)throw n}}}}function _unsupportedIterableToArray(e,r){if(e){if("string"==typeof e)return _arrayLikeToArray(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,r):void 0}}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,o=new Array(r);t<r;t++)o[t]=e[t];return o}var generateBtn=document.querySelector("#generate-btn"),cardFieldInner=document.querySelector(".card-field-inner"),cardField_back=document.querySelector(".card-field .back"),cardField=document.querySelector(".card-field"),checkboxes=document.querySelectorAll('input[name="requirements"]'),reset=document.querySelector(".button.reset");generateBtn.addEventListener("click",function(e){if(document.querySelector("#chunk-length").validity.valid){e.preventDefault();var r=document.querySelector(".card");r&&r.remove();var t={char:{uppercase:document.querySelector("#uppercase").checked,lowercase:document.querySelector("#lowercase").checked,number:document.querySelector("#number").checked,symbol:document.querySelector("#symbol").checked},color:document.querySelector("#color").checked,extraColor:document.querySelector("#extraColor").checked},o=document.querySelector("#chunk-length").value,n=convertObjectArrayToDOM(generateFullPassword(t,DEFAULT_TEMPLATES,o),"cell"),a=createCard(createHeader(DEFAULT_TEMPLATES.char.uppercase,"header",!0),createHeader(DEFAULT_TEMPLATES.char.number,"side-header",!1),n);cardField_back.appendChild(a),scope(),setTimeout(flip,1500),setTimeout(scope,3e3)}});var _step,_iterator=_createForOfIteratorHelper(checkboxes);try{for(_iterator.s();!(_step=_iterator.n()).done;){var e=_step.value;e.addEventListener("click",checkingBox)}}catch(e){_iterator.e(e)}finally{_iterator.f()}function checkingBox(){var e,r=_createForOfIteratorHelper(checkboxes);try{for(r.s();!(e=r.n()).done;){var t=e.value;if("color"!=t.id&&t.checked)return void(generateBtn.disabled=!1)}}catch(e){r.e(e)}finally{r.f()}generateBtn.disabled=!0}function flip(){cardFieldInner.classList.toggle("flip")}function scope(){cardField.classList.toggle("scope")}reset.addEventListener("click",function(){return setTimeout(checkingBox,1)});var PASSWORD_LENGTH=260,DEFAULT_CHUNK_LENGTH=12,DEFAULT_TEMPLATES={char:{uppercase:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],lowercase:["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],number:["0","1","2","3","4","5","6","7","8","9"],symbol:["!","@","#","$","%","^","&","*"]},color:["first","second","third","fourth","fifth"],extraColor:["first","second","third","fourth","fifth"]},DEFAULT_REQUIREMENTS={char:{uppercase:!0,lowercase:!0,number:!0,symbol:!0},color:!0,extraColor:!0};function Character(e,r,t){this.char=e,this.color=r,this.extraColor=t}function Template(e,r){for(var t in e)if("object"!=_typeof(e[t])||"object"!=_typeof(r[t]))e[t]&&(this[t]=r[t]);else for(var o in this[t]=[],e[t])e[t][o]&&(this[t]=this[t].concat(r[t][o]))}function generateFullPassword(e,r,t){for(var o=new Template(e,r),n=Math.ceil(PASSWORD_LENGTH/t),a=[],c=0;c<n;c++)a=a.concat(getCorrectRandomChunk(e,r,o,t));return a.length=PASSWORD_LENGTH,a}function getRandomChunk(e,r){var t=[],o={};for(var n in e)o[n]=getShuffle(e[n]);for(var a=0;a<r;a++){var c={};for(var l in o)c[l]=pullRandom(o[l]);var u=new Character(c.char,c.color,c.extraColor);t.push(u)}return t}function pullRandom(e){return e[Math.floor(Math.random()*e.length)]}function getShuffle(e){for(var r=e,t=r.length-1;t>0;t--){var o=Math.floor(Math.random()*r.length),n=[r[o],r[t]];r[t]=n[0],r[o]=n[1]}return r}function getCorrectRandomChunk(e,r,t,o){var n=getRandomChunk(t,o);return isChunkCorrect(n,e,r)?n:getCorrectRandomChunk(e,r,t,o)}function isChunkCorrect(e,r,t){for(var o in r.char)if(r.char[o]){if(isMet(e,t.char[o]))continue;return!1}return!0}function isMet(e,r){var t,o=_createForOfIteratorHelper(e);try{for(o.s();!(t=o.n()).done;){var n,a=t.value,c=_createForOfIteratorHelper(r);try{for(c.s();!(n=c.n()).done;){var l=n.value;if(a.char==l)return!0}}catch(e){c.e(e)}finally{c.f()}}}catch(e){o.e(e)}finally{o.f()}return!1}function convertObjectArrayToDOM(e,r){var t,o=[],n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,c=document.createElement("div");c.className=r,a.char&&(c.textContent=a.char),a.color&&c.setAttribute("data-color","".concat(a.color)),a.extraColor&&c.setAttribute("data-extra-color","".concat(a.extraColor)),o.push(c)}}catch(e){n.e(e)}finally{n.f()}return o}function createHeader(e,r){var t,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=[],a=_createForOfIteratorHelper(e);try{for(a.s();!(t=a.n()).done;){var c=t.value,l=document.createElement("div");l.className=r,l.textContent=c,n.push(l)}}catch(e){a.e(e)}finally{a.f()}if(o){var u=document.createElement("div");u.className="header";var i=u.cloneNode(!0);n.unshift(u),n.push(i)}return n}function createCard(e,r,t){var o=document.createElement("div");o.className="card";var n=document.createElement("div");n.className="row";var a,c=_createForOfIteratorHelper(e);try{for(c.s();!(a=c.n()).done;){var l=a.value;n.appendChild(l)}}catch(e){c.e(e)}finally{c.f()}o.appendChild(n);var u,i="uneven",d=_createForOfIteratorHelper(r);try{for(d.s();!(u=d.n()).done;){var f=u.value;i="uneven"==i?"even":"uneven";var s=document.createElement("div");s.className="row ".concat(i),s.appendChild(f);for(var h=0;h<26;h++)s.appendChild(t.shift());var v=f.cloneNode(!0);s.appendChild(v),o.appendChild(s)}}catch(e){d.e(e)}finally{d.f()}var y=n.cloneNode(!0);return o.appendChild(y),o}